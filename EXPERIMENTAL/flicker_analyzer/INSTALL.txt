QUICK INSTALLATION GUIDE
========================

Flicker Analyzer Plugin for FLIKA
Pathak Lab, UC Irvine

WHAT IT DOES:
-------------
Automatically detects Ca2+ flickers and transient events across your ENTIRE movie
WITHOUT requiring ROI drawing or puncta detection!

Just load your movie and click "Detect Flickers" - the plugin analyzes every 
pixel's temporal behavior to find brief intensity transients everywhere they occur.

INSTALLATION STEPS:
-------------------

1. Locate your FLIKA plugins directory:
   
   Windows: C:\Users\YourName\.FLIKA\plugins\
   Mac:     ~/.FLIKA/plugins/
   Linux:   ~/.FLIKA/plugins/

2. Copy the entire "flicker_analyzer" folder to the plugins directory

3. Install PyWavelets (if not already installed):
   
   pip install PyWavelets --break-system-packages

4. Restart FLIKA

5. The plugin will appear under: Plugins → Flicker Analyzer

REQUIRED FILES (all included in this folder):
----------------------------------------------
✓ flicker_analyzer.py (main plugin code)
✓ __init__.py (Python package file)
✓ info.xml (plugin metadata)
✓ about.html (plugin description)
✓ README.md (comprehensive documentation)

QUICK START:
-----------
1. Open a Ca2+ imaging movie in FLIKA (must be time series)
2. Go to Plugins → Flicker Analyzer
3. Leave default settings (Z-Score method, threshold=3.0)
4. Click "Detect Flickers"
5. Wait for completion (~30 seconds to few minutes)
6. Click "Visualize Results" to see comprehensive analysis

KEY ADVANTAGES:
---------------
✓ No manual ROI drawing - fully automated
✓ No puncta detection required - works on any intensity pattern
✓ Finds flickers EVERYWHERE in the image
✓ Multiple detection methods (z-score, derivative, wavelet, variance)
✓ Statistical detection - objective thresholds
✓ Frequency maps showing hotspots
✓ Comprehensive quantification

PERFECT FOR:
------------
• Ca2+ flickers in TIRF microscopy
• PIEZO1-mediated calcium transients
• Spontaneous activity mapping
• Mechanotransduction events
• Any brief, localized fluorescence changes

TESTING:
--------
After installation, test with a Ca2+ imaging movie:
1. Load your movie
2. Open plugin GUI
3. Click "Detect Flickers" with defaults
4. Should complete in 1-2 minutes
5. Click "Visualize Results"
6. Should see frequency map, raster plot, statistics

If you see results, it's working!

PARAMETER GUIDE:
----------------
Start with these defaults:
• Method: Z-Score (most robust)
• Threshold: 3.0 (standard statistical threshold)
• Min Duration: 2 frames (filters brief noise)
• Max Duration: 30 frames (filters slow trends)
• Spatial Smoothing: 1.0 (mild noise reduction)

Adjust if needed:
• Too many false positives? → Increase threshold to 3.5-4.0
• Missing real flickers? → Decrease threshold to 2.5
• Noisy data? → Increase spatial smoothing to 1.5-2.0

TROUBLESHOOTING:
---------------
If plugin doesn't appear:
- Check folder name is exactly: flicker_analyzer
- Verify all 5 files are present
- Restart FLIKA completely

If "No module named 'pywt'" error:
- Install PyWavelets: pip install PyWavelets --break-system-packages
- Or use Z-Score/Derivative methods (don't need wavelet)

If no flickers detected:
- Visually confirm movie has transient events
- Try lowering threshold to 2.5
- Try Derivative method with threshold=20

For detailed usage and all features, see README.md

COMPARISON TO MANUAL ANALYSIS:
------------------------------
Manual approach:
- Draw ROIs (10-20 min)
- Extract traces
- Manually identify peaks (30-60 min)
- Miss flickers outside ROIs
- Subjective

Flicker Analyzer:
- No ROIs needed (0 min)
- Automatic detection (1-5 min)
- Finds ALL flickers
- Objective, reproducible
- Comprehensive statistics

SUPPORT:
--------
For help or questions:
- See README.md for detailed documentation
- Contact Pathak Lab at UCI
- https://www.pathaklab-uci.com/

Enjoy automated flicker detection!
